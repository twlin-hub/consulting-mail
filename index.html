<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Branding 컨설팅 메일 생성기</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <header>
            <h1>📧 Smart Branding 컨설팅 메일 생성기</h1>
            <p>구글폼 응답을 기반으로 맞춤 컨설팅 메일을 자동으로 생성합니다.</p>
        </header>
        
        <!-- 메인 컨텐츠 -->
        <div class="main-content">
            <!-- 사이드바 -->
            <div class="sidebar">
                <!-- 통계 -->
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number" id="totalCount">-</div>
                        <div class="stat-label">총 응답</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number pending" id="pendingCount">-</div>
                        <div class="stat-label">미발송</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number done" id="sentCount">-</div>
                        <div class="stat-label">발송완료</div>
                    </div>
                </div>
                
                <!-- 새로고침 버튼 -->
                <button class="refresh-btn" onclick="loadData()">🔄 데이터 새로고침</button>
                
                <!-- 필터 -->
                <div class="filter-section">
                    <div class="filter-title">📌 필터</div>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="setFilter('all')" id="filterAll">
                            <span class="count" id="filterAllCount">-</span>
                            전체
                        </button>
                        <button class="filter-btn" onclick="setFilter('pending')" id="filterPending">
                            <span class="count" id="filterPendingCount">-</span>
                            미발송
                        </button>
                        <button class="filter-btn" onclick="setFilter('sent')" id="filterSent">
                            <span class="count" id="filterSentCount">-</span>
                            발송완료
                        </button>
                    </div>
                </div>
                
                <!-- 안내 -->
                <div class="info-box">
                    <strong>💡 발송완료 표시 방법</strong>
                    구글 스프레드시트 "발송완료" 컬럼(O열)에 "O"를 입력하세요.
                </div>
                
                <!-- 응답자 목록 -->
                <h3>📋 응답자 목록</h3>
                <div class="respondent-list" id="respondentList">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>데이터를 불러오는 중...</p>
                    </div>
                </div>
            </div>
            
            <!-- 메일 미리보기 -->
            <div class="mail-preview">
                <div class="mail-header">
                    <div class="mail-field">
                        <label>보내는 사람</label>
                        <span>최형기 (스마트브랜딩)</span>
                    </div>
                    <div class="mail-field">
                        <label>받는 사람</label>
                        <span id="mailTo">-</span>
                    </div>
                    <div class="mail-field">
                        <label>제목</label>
                        <span class="mail-subject" id="mailSubject">-</span>
                    </div>
                </div>
                
                <div class="mail-body">
                    <div id="mailContent" class="empty-state">
                        <p>👈 왼쪽에서 응답자를 선택하면<br>컨설팅 메일이 자동으로 생성됩니다.</p>
                    </div>
                    <div id="mailBody" class="mail-body-content" style="display:none;"></div>
                </div>
                
                <div class="mail-actions">
                    <button class="btn btn-primary" onclick="copyMail()">📋 메일 전문 복사</button>
                    <button class="btn btn-secondary" onclick="copySubject()">📌 제목만 복사</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 토스트 메시지 -->
    <div class="toast" id="toast"></div>
    
    <!-- JavaScript 파일들 (순서 중요!) -->
    <script src="js/config.js"></script>
    <script src="js/data.js"></script>
    <script src="js/mail.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
